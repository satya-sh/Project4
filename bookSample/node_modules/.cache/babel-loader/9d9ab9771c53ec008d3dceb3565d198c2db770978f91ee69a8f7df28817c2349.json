{"ast":null,"code":"var _jsxFileName = \"/Users/satya/Desktop/spring lab/book-sample/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './BookList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BooksComponent() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [id, setId] = useState('');\n  const [year, setYear] = useState('');\n  const [searchAuthor, setSearchAuthor] = useState('');\n\n  // Function to handle the author search form submission\n  const handleAuthorSearch = async event => {\n    event.preventDefault();\n    try {\n      const response = await axios.get(`https://nth-guide-404519.uw.r.appspot.com/findBooksByAuthor?author=${searchAuthor}`);\n      setBooks(response.data);\n      setLoading(false);\n    } catch (error) {\n      setError(error.message);\n      setLoading(false);\n    }\n  };\n\n  // function to call API to get all books in DB\n  function displayAllBooks() {\n    axios.get('https://nth-guide-404519.uw.r.appspot.com/findAllBooks').then(response => {\n      setBooks(response.data); // Axios packs the response in a 'data' property\n      setLoading(false);\n    }).catch(error => {\n      setError(error.message);\n      setLoading(false);\n    });\n  }\n  ;\n\n  // function to handle the user submit of a new book\n  // async used so we can use the \"await\", which causes a block until post is done\n  //   and makes for a little simpler code (no .then)\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const postData = {\n      title,\n      author,\n      year: parseInt(year, 10) // Convert string to integer\n    };\n    try {\n      const response = await axios.post('https://nth-guide-404519.uw.r.appspot.com/saveBook', postData);\n      console.log('Response:', response.data);\n      displayAllBooks();\n    } catch (error) {\n      console.error('Error posting data:', error);\n    }\n  }\n  ;\n\n  // useEffect makes it so list of books shown when this component mounts\n  useEffect(() => {\n    // Using Axios to fetch data\n\n    displayAllBooks();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 21\n  }, this);\n\n  // this component displays a list of books and has a form for posting a new book\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book-list\",\n    children: [books.map((book, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: book.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"by \", book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAuthorSearch,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Search by Author:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: searchAuthor,\n          onChange: e => setSearchAuthor(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(BooksComponent, \"5Q81WElp8sxoZe2EdmEABgz6omU=\");\n_c = BooksComponent;\nexport default BooksComponent;\nvar _c;\n$RefreshReg$(_c, \"BooksComponent\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","BooksComponent","_s","books","setBooks","loading","setLoading","error","setError","title","setTitle","author","setAuthor","id","setId","year","setYear","searchAuthor","setSearchAuthor","handleAuthorSearch","event","preventDefault","response","get","data","message","displayAllBooks","then","catch","handleSubmit","postData","parseInt","post","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","book","index","onSubmit","type","value","onChange","e","target","_c","$RefreshReg$"],"sources":["/Users/satya/Desktop/spring lab/book-sample/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './BookList.css';\n\nfunction BooksComponent() {\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [id, setId] = useState('');\n  const [year, setYear] = useState('');\n  const [searchAuthor, setSearchAuthor] = useState('');\n\n  // Function to handle the author search form submission\n  const handleAuthorSearch = async (event) => {\n    event.preventDefault();\n\n    try {\n      const response = await axios.get(`https://nth-guide-404519.uw.r.appspot.com/findBooksByAuthor?author=${searchAuthor}`);\n      setBooks(response.data);\n      setLoading(false);\n    } catch (error) {\n      setError(error.message);\n      setLoading(false);\n    }\n  };\n  \n  // function to call API to get all books in DB\n  function displayAllBooks() {\n  \taxios.get('https://nth-guide-404519.uw.r.appspot.com/findAllBooks')\n      .then(response => {\n        setBooks(response.data);  // Axios packs the response in a 'data' property\n        setLoading(false);\n      })\n      .catch(error => {\n        setError(error.message);\n        setLoading(false);\n      });\n  \n  };\n\n  // function to handle the user submit of a new book\n  // async used so we can use the \"await\", which causes a block until post is done\n  //   and makes for a little simpler code (no .then)\n  async function handleSubmit(event) {\n        event.preventDefault();\n        \n        const postData = {\n            title,\n            author,\n            year: parseInt(year, 10) // Convert string to integer\n        };\n\n        try {\n            const response = await axios.post('https://nth-guide-404519.uw.r.appspot.com/saveBook', postData);\n            console.log('Response:', response.data);\n            displayAllBooks()\n        } catch (error) {\n            console.error('Error posting data:', error);\n        }\n    };\n\n  \n  // useEffect makes it so list of books shown when this component mounts\n  useEffect(() => {\n    // Using Axios to fetch data\n   \n    displayAllBooks()\n  }, []);\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error: {error}</div>;\n\n  // this component displays a list of books and has a form for posting a new book\n  return (\n    <div className=\"book-list\">\n      {books.map((book, index) => (\n        <div key={index} className=\"book-item\">\n          <h3>{book.title}</h3>\n          <p>by {book.author}</p>\n        </div>\n      ))}\n\n      <form onSubmit={handleAuthorSearch}>\n        <label>\n          Search by Author:\n          <input\n            type=\"text\"\n            value={searchAuthor}\n            onChange={(e) => setSearchAuthor(e.target.value)}\n          />\n        </label>\n        <button type=\"submit\">Search</button>\n      </form>\n\n      {/* ... (your existing form for adding a new book) */}\n    </div>\n  );\n}\n\nexport default BooksComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}